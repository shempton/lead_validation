# Lead Validation Custom Module

**Lead Validation Custom Module** – это модуль для Битрикс24, который:
- Проверяет корректность заполнения пользовательского поля "Идентификатор" в Лиде.
- Предоставляет удобный скрипт для записи текущего времени и количества лидов в систему логов.

---

## **Функционал модуля**
1. **Проверка пользовательского поля:**
   - Проверяется формат поля "Идентификатор" (например, `DNRY-2345`).
   - Если поле не заполнено или формат некорректен, сохранение Лида блокируется с сообщением об ошибке.

2. **Логирование количества лидов:**
   - Записывает текущее время и количество Лидов в файл каждые 15 минут.
   - Скрипт запускается из консоли с использованием Cron.

---

## **Установка модуля**

1. Переместите папку `leadvalidation_custom` в директорию `/local/modules` вашего проекта.
2. Замените идентификатор поля в файле `include.php`
3. В административном разделе Б24 перейдите в `Настройки` → `Настройки модулей`.
4. Найдите модуль `Валидация поля лида`.
5. Нажмите **Установить**.
Валидация поля будет работать автоматом.
6. Последним шагом необходимо скрипт по подсчету кол-во лидов установить на крон. Вызов каждые 15 минут
```
crontab -e
*/15 * * * * php /local/modules/leadvalidation_custom/cron/count_lead_logger.php
```




